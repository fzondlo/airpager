<div class="max-w-5xl mx-auto py-8 px-6">
  <h1 class="text-2xl font-bold text-gray-800 mb-6">Open AI request #<%= @request.id %></h1>

  <div class="space-y-4 bg-white shadow rounded-xl p-6 border border-gray-200">

    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">Request ID</h2>
      <p class="text-lg text-gray-800 bg-gray-100 p-4"><%= @request.request_id %></p>
    </div>

    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">Request Type</h2>
      <p class="text-lg text-gray-800 bg-gray-100 p-4"><%= @request.request_type %></p>
    </div>

    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">Created At</h2>
      <p class="text-lg text-gray-800 bg-gray-100 p-4"><%= @request.created_at.in_time_zone("America/Bogota").strftime("%B %-d, %Y â€“ %H:%M") %></p>
    </div>


    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">Answer</h2>
      <p class="text-lg text-gray-800 bg-gray-100 p-4"><%= @request.answer %></p>
    </div>

    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">System Prompt</h2>
      <pre class="whitespace-pre-wrap break-words text-sm bg-gray-100 text-gray-800 font-mono rounded-md p-4 overflow-x-auto"><code><%= @request.system_prompt || "None" %></code></pre>
    </div>

    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">User Prompt</h2>
      <pre class="whitespace-pre-wrap break-words text-sm bg-gray-100 text-gray-800 font-mono rounded-md p-4 overflow-x-auto"><code><%= @request.user_prompt %></code></pre>
    </div>

    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">Metadata</h2>
      <pre class="whitespace-pre-wrap break-words text-sm bg-gray-100 text-gray-800 font-mono rounded-md p-4 overflow-x-auto"><code><%= JSON.pretty_generate(@request.metadata) %></code></pre>
    </div>

    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">Response Payload</h2>
      <pre class="whitespace-pre-wrap break-words text-sm bg-gray-100 text-gray-800 font-mono rounded-md p-4 overflow-x-auto"><code><%= JSON.pretty_generate(@request.response_payload) %></code></pre>
    </div>

    <div>
      <h2 class="text-sm font-semibold text-gray-500 uppercase">Response Headers</h2>
      <pre class="whitespace-pre-wrap break-words text-sm bg-gray-100 text-gray-800 font-mono rounded-md p-4 overflow-x-auto"><code><%= JSON.pretty_generate(@request.response_headers) %></code></pre>
    </div>

  </div>

  <div class="mt-8 flex justify-between items-center">
    <%= link_to "Back", open_ai_requests_path, class: "text-gray-500 hover:underline text-sm" %>
  </div>
</div>
